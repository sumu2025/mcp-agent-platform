# DeepSeek开发辅助工具指南

## 简介

`mcp-dev-assist`是MCP智能体中台项目的开发辅助工具，基于DeepSeek API提供智能开发支持。它可以帮助团队在Claude配额有限的情况下，利用DeepSeek完成大部分常规开发任务，提高开发效率。

## 安装与设置

### 安装依赖

确保已安装必要的依赖：

```bash
cd /Users/peacock/Desktop/AI架构师工作室/04-项目/01-进行中/MCP集成/mcp_agent_platform
npm install
```

### 设置工具

可以选择以下两种方式使用：

1. **通过npm脚本运行：**
   ```bash
   npm run dev-assist "你的开发问题"
   ```

2. **全局安装：**
   ```bash
   npm run install-tool
   # 然后就可以在任何目录使用以下命令
   mcp-dev-assist "你的开发问题"
   ```

### 首次运行

首次运行时，工具会提示输入DeepSeek API密钥和选择模型。这些信息将被保存到`~/.mcp/config.json`，后续使用无需重复输入。

## 使用方法

工具支持多种使用模式，针对不同开发需求：

### 1. 默认模式：一般开发问题

适用于一般开发问题，如架构讨论、API设计、技术选择等。

```bash
mcp-dev-assist "如何设计一个高性能的文件索引系统？"
```

### 2. 代码模式：代码生成与优化

专注于代码生成、调试和优化。

```bash
# 方式1
mcp-dev-assist --code "实现一个TypeScript的观察者模式"

# 方式2
npm run dev-assist:code "实现一个TypeScript的观察者模式"
```

### 3. 设计模式：系统设计与架构

专注于软件设计和架构问题。

```bash
mcp-dev-assist --design "设计一个分布式任务队列系统"
```

### 4. 调试模式：问题排查

专注于代码错误和系统问题的排查与解决。

```bash
mcp-dev-assist --debug "为什么我的React组件重复渲染？"
```

### 使用文件输入

对于较长的提示或代码，可以使用文件输入：

```bash
# 从文件读取提示
mcp-dev-assist --file path/to/prompt.txt

# 代码模式 + 文件输入
mcp-dev-assist --code --file path/to/code.js
```

### 保存输出

可以将回答保存到文件：

```bash
mcp-dev-assist "创建一个REST API" --output api-design.md
```

## 最佳实践

### 何时使用DeepSeek vs Claude

为了最大化资源利用效率，建议按以下原则选择：

**使用DeepSeek的场景：**
- 代码生成、实现和调试
- 文档编写和修订
- 常规技术问题咨询
- 基础系统设计

**使用Claude的场景：**
- 复杂系统架构决策
- 关键技术选型讨论
- 项目宏观规划
- 需要深度上下文理解的任务

### 提示词优化

为获得最佳结果，建议：

1. **明确具体**：提供明确的上下文和需求
2. **分步骤**：复杂任务拆分为多个步骤
3. **指定格式**：明确期望的输出格式
4. **指定技术栈**：明确使用的编程语言和框架

### 缓存使用

工具会缓存查询结果，对于重复查询会优先使用缓存。如果需要更新回答，可以：

1. 在出现缓存提示时选择 `n` 生成新回答
2. 对问题略作修改，避开缓存匹配

## 注意事项

1. **API密钥安全**：工具在本地存储API密钥，请确保不要将包含密钥的配置文件共享给他人
2. **网络依赖**：工具需要网络连接才能正常工作
3. **资源消耗**：DeepSeek API调用会消耗API配额，请合理使用

## 故障排除

如果遇到问题，尝试以下方法：

1. 检查网络连接
2. 确认API密钥有效
3. 删除`~/.mcp/config.json`重新配置
4. 更新工具和依赖

## 开发计划

未来计划为工具添加以下功能：

1. 对话模式支持
2. 代码自动应用到项目
3. 与Obsidian集成
4. 多模型支持
